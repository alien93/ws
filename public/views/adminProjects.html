<!--MoguÄ‡nost kreiranja projekta i dodavanje/brisanje registrovanih
 korisnika za projekte-->
<div class="container" ng-controller="adminProjectController">
    <nav class="navbar-fluid navbar-inverse navbar-fixed-top navbar">
        <div class="container">
            <a class="navbar-brand" href="#/adminProjects"> Ticketing system</a>
            <p class="navbar-right navbar-text"><a href ng-click="logout()">Log out</a></p>
            <p class="navbar-right navbar-text">{{username}}</p>
        </div>
    </nav>
<div class="jumbotron">	

    <div>


    <!--tabela svih projekata-->

    <table class="table table-condensed">
        <tr>
            <td><input type="text"  placeholder="Project name" class="form-control" ng-model="project.name" required></td>
            <td>&nbsp;</td>
            <td><input type="button" value="Add project" class="btn btn-primary" style="float:right" ng-click="addProject()"></td>
        </tr>
        <tr></tr>
        <tr></tr>
        <tr>
            <th>Project name</th>
            <th>Contributors</th>
            <th>&nbsp;</th>
        </tr>

        <tbody>
            <!--projects-->
            <table class='table table-condensed' ng-repeat="project in projects" ng-click="projectClick($index)">
                <tr>
				<th ng-click="showTasks($index)">
					  {{project.name}}
				</th>
				<td align="right">
					<table>
                        <!--contributors-->
						<tr ng-repeat="contributor in project.contributors">
							<td align="center" valign="middle">{{contributor.name}}</td>
						</tr>
					</table>
				</td>
                <td>
				    <input type="button" value="Modify" class="btn btn-warning" style="float:right" ng-click="modifyContributors($index); $event.stopPropagation();">
                </td>
                </tr>
            <!--tasks-->
                <tr ng-if="testIfVisible($parent.$index)" ng-repeat="task in project.tasks"> 
                    <td>{{task.name}}</td>
                    <td>
                        <table>
                            <!--contributors-->
                           <tr ng-repeat="contributor in project.tasks.contributors">
                                <td>{{contributor.name}}</td>
                            </tr>
                        </table>
                    </td>
                    <td>
                         <button type="button" class="btn btn-default" style="float:right" ng-click="modifyTask($parent.$parent.$index, $index)"> 
                            <span class="glyphicon glyphicon-pencil">
                        </button>
                        &nbsp;
                        <button type="button" class="btn btn-default" style="float:right" ng-click="moreInfo($parent.$parent.$index, $index)">
                                <span class="glyphicon glyphicon-option-horizontal"></span>
                        </button>
                    </td>
                </tr>
            </table>
        </tbody>
    </table>

</div>
	
</div>
</div>
